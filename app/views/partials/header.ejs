<link rel="stylesheet" href="/css/header.css" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<!-- HEADER TOP -->
<article class="header">
  <nav
    class="header-nav2 cliente"
    id="mobileNav"
    aria-label="Navega√ß√£o principal"
  >
    <article class="nav-spacer">
      <a href="/tarefas">Tarefas</a>
      <a href="/progressao">Progress√£o</a>
      <a href="/perfil">Perfil</a>
    </article>

    <article class="nav-spacer">
      <a
        href="javascript:void(0);"
        class="notification-toggle"
        id="notificationMenuToggleDesktop"
        aria-controls="notificationMenu"
        aria-expanded="false"
        >Notifica√ß√µes</a
      >
      <a href="/#">Contato</a>
      <a href="/informacoes"> <i class="bi bi-info-circle"></i>Ajuda</a>
      <a href="/cadastroColaborador">Vender no Healthy Safely</a>
    </article>
  </nav>
</article>

<!-- HEADER BOTTOM -->
<article class="header">
  <section class="header-container">
    <!-- MENU HAMBURGUER MOBILE -->
    <section class="menu-toggle-wrapper" aria-label="Menu Hamburguer">
      <input type="checkbox" id="menuToggle" />
      <label for="menuToggle" class="hamburger">
        <span></span>
        <span></span>
        <span></span>
      </label>

      <nav id="menu" aria-label="Conte√∫do do menu Hamburguer">
        <h1>Menu</h1>
        <ul>
          <li>
            <a href="/"><i class="bi bi-house"></i> In√≠cio</a>
          </li>
          <li>
            <a href="/tarefas"><i class="bi bi-check-circle"></i> Tarefas</a>
          </li>
          <li>
            <a href="/progressao"><i class="bi bi-bar-chart"></i> Progress√£o</a>
          </li>
          <li>
            <a href="/perfil"><i class="bi bi-person"></i> Perfil</a>
          </li>
        </ul>
        <label for="menuToggle" class="close-menu">&times;</label>
      </nav>
    </section>

    <!-- LOGO -->
    <a
      href="/tomarammeutela"
      class="header-logo <%= (usuario && usuario.tipo === 'farmacia') ? 'farmacia' : 'cliente' %>"
      aria-label="Logo"
    >
      <img src="/imagem/1x/logozeko.png" alt="Healthy Safely" />
    </a>

    <!-- BARRA DE PESQUISA-->
    <form class="search-bar" role="search" aria-label="Barra de Pesquisa">
      <label class="search-icon" for="headerSearch">
        <svg width="15" height="15" viewBox="0 0 36 36" fill="none">
          <circle cx="16" cy="16" r="12" stroke="#fff" stroke-width="3" />
          <line
            x1="26"
            y1="26"
            x2="32"
            y2="32"
            stroke="#fff"
            stroke-width="3"
            stroke-linecap="round"
          />
        </svg>
      </label>
      <input type="text" id="headerSearch" placeholder="Busque o que deseja" />
    </form>

    <!-- A√á√ïES DO USUARIO -->
    <nav class="header-actions" aria-label="A√ß√µes do usu√°rio">
      <!-- MENU DE NOTIFICA√á√ïES-->
      <section
        class="user-menu cliente"
        aria-label="Menu de notifica√ß√µes"
      >
        <i
          class="bi bi-bell notification-toggle notificacao"
          id="notificationMenuToggleAction"
          aria-controls="notificationMenu"
          aria-expanded="false"
        ></i>
        <section
          id="notificationMenu"
          class="notification-dropdown hidden"
          role="menu"
        >
          <h3>Notifica√ß√µes</h3>
          <ul id="notificationList">
            <% if (usuario) { %>
            <li>Nenhuma notifica√ß√£o nova.</li>
            <% } else { %>
            <li>Por favor, fa√ßa login para ver suas notifica√ß√µes.</li>
            <% } %>
          </ul>
        </section>
      </section>

      <!-- CADASTRAR/LOGAR -->
      <section class="user-menu cliente">
        <% if (usuario) { %>
        <a href="/perfil">
          <i class="bi bi-person-circle logado"></i>
        </a>

        <% if (usuario.tipo === "farmacia") { %>
        <span class="header-welcome">
          Ol√°, <strong><%= usuario.nome.split(' ')[0] %></strong> üëã
        </span>
        <% } %> <% } else { %>
        <section class="logar-cadastrar">
          <a href="/login">
            <i class="bi bi-person-circle"></i>
          </a>
          <a href="/login">Entrar</a>
          <span> | </span>
          <a href="/cadastro">Cadastrar</a>
        </section>
        <% } %>
      </section>
    </nav>
  </section>
</article>

<!-- BARRA DE PESQUISA MOBILE -->
<article class="fundo">
  <section class="search-bar2" role="search">
    <label class="search-icon" for="mobileSearch">
      <svg width="24" height="24" viewBox="0 0 36 36" fill="none">
        <circle cx="16" cy="16" r="12" stroke="#fff" stroke-width="3" />
        <line
          x1="26"
          y1="26"
          x2="32"
          y2="32"
          stroke="#fff"
          stroke-width="3"
          stroke-linecap="round"
        />
      </svg>
    </label>
    <input type="text" id="mobileSearch" placeholder="Busque o que deseja" />
  </section>
</article>

<!-- MODAL DE CADASTRO (aparece apenas ao clicar em "cadastrar")-->
<section
  id="headerModalCadastro"
  class="modal hidden"
  role="dialog"
  aria-modal="true"
  aria-labelledby="modalCadastroTitle"
>
  <section class="modal-content">
    <button id="headerCloseCadastroModal" class="close-btn" aria-label="Fechar">
      &times;
    </button>

    <h2 class="modalCadastroTitle">Acessar contaüîê</h2>

    <a href="/login" class="btn-cadastro">Entrar</a>

    <p class="ou">ou</p>

    <p class="titulo-cadastro">Cadastrar como:</p>

    <section class="opcoes-cadastro">
      <a href="/cadastroCliente" class="btn-cadastro">Usu√°rio</a>
      <a href="/cadastroProfissional" class="btn-cadastro">Profissional</a>
    </section>
  </section>
</section>

<!--SCRIPT DO MODAL CADASTRAR-->
<script src="/js/modal-header.js"></script>
